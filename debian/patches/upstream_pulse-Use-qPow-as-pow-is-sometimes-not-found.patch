From d7d3a08d4c9dff8da5299aeaefe28e1e02d03ee6 Mon Sep 17 00:00:00 2001
From: Colin Guthrie <colin@mageia.org>
Date: Thu, 4 Aug 2011 16:55:47 +0100
Subject: [PATCH] pulse: Use qPow() as pow() is sometimes not found. (cherry
 picked from commit
 436d5379abe83c53c652d8a251f7ab504a1523df)

---
 phonon/pulsestream.cpp |    3 ++-
 1 files changed, 2 insertions(+), 1 deletions(-)

diff --git a/phonon/pulsestream.cpp b/phonon/pulsestream.cpp
index d1e6711..e129f1b 100644
--- a/phonon/pulsestream.cpp
+++ b/phonon/pulsestream.cpp
@@ -21,6 +21,7 @@
 */
 
 #include "pulsestream_p.h"
+#include <QtCore/qmath.h>
 
 QT_BEGIN_NAMESPACE
 
@@ -81,7 +82,7 @@ void PulseStream::setVolume(const pa_cvolume *volume)
         // AudioOutput expects the "backend" to supply values that have been
         // adjusted for Stephens' law, so we need to fudge them accordingly
         // so that the %ages match up in KMix/the application's own slider.
-        emit volumeChanged(pow(vol, VOLTAGE_TO_LOUDNESS_EXPONENT));
+        emit volumeChanged(qPow(vol, VOLTAGE_TO_LOUDNESS_EXPONENT));
     }
 }
 
-- 
1.7.7.3

